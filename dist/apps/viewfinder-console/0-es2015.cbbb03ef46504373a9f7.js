(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Goz9:function(e,s,t){"use strict";t.d(s,"a",function(){return u});var r=t("tk/3"),i=t("2Vo4"),a=t("vkgz"),n=t("un/a"),o=t("JIr8"),c=t("t5bl"),h=t("fXoL");let u=(()=>{class e{constructor(e){this.http=e,this.apiTargetAppName="Viewfinder",this.serviceName=`${this.apiTargetAppName} Service`,this.pingURL="https://wrdsb-viewfinder.azurewebsites.net/api/ping",this.googleGroupsFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-group-find",this.googleGroupsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-groups-search",this.googleCalendarFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-calendar-find",this.googleCalendarsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-calendars-search",this.quartermasterDeviceLoanFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/device-loan-find",this.quartermasterDeviceLoansSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/device-loans-search",this.atsAssetFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/ats-asset-find",this.atsAssetsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/ats-assets-search",this.quartermasterAssetFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/quartermaster-asset-find",this.quartermasterAssetsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/quartermaster-assets-search",this.pingState=new i.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new i.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.searchRequestState=new i.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.searchRequestState$=this.searchRequestState.asObservable(),this.httpOptions={headers:new r.e({"Content-Type":"application/json"})}}doPing(){console.log(`${this.serviceName}: doPing()`),console.log(`Pinging ${this.apiTargetAppName}...`),this.pingRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(a.a)(e=>console.log("ping request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("catch ping request error"),this.pingRequestState.next({status:c.a.ERROR,response:"",error:e}),this.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),`error pinging ${this.apiTargetAppName}`}),Object(a.a)(e=>{this.pingRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log(`success pinging ${this.apiTargetAppName}`)})).subscribe(e=>this.pingState.next(e))}findGoogleGroup(e){return console.log("Viewfinder Service: findGoogleGroup()"),this.http.post(this.googleGroupsFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(a.a)(e=>console.log("Viewfinder Service: Google Group find request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("Viewfinder Service: catch find request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}searchGoogleGroups(e){console.log("Viewfinder Service: searchGoogleGroups()"),console.log("Searching Viewfinder...");let s={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.googleGroupsSearchURL,s,this.httpOptions).pipe(Object(a.a)(e=>console.log("searh request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("catch search request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}findGoogleCalendar(e){return console.log("Viewfinder Service: findGoogleCalendar()"),this.http.post(this.googleCalendarFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(a.a)(e=>console.log("Viewfinder Service: Google Calendar find request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("Viewfinder Service: catch find request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}searchGoogleCalendars(e){console.log("Viewfinder Service: searchGoogleCalendars()"),console.log("Searching Viewfinder...");let s={payload:Object.assign({includeTotalCount:!0,orderBy:["summary asc"],skip:0,top:20},e)};return this.searchRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.googleCalendarsSearchURL,s,this.httpOptions).pipe(Object(a.a)(e=>console.log("searh request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("catch search request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}findQuartermasterDeviceLoan(e){return console.log("Viewfinder Service: findQuartermasterDeviceLoan()"),this.http.post(this.quartermasterDeviceLoanFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(a.a)(e=>console.log("Viewfinder Service: Quartermaster Device Loan find request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("Viewfinder Service: catch find request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}searchQuartermasterDeviceLoans(e){console.log("Viewfinder Service: searchQuartermasterDeviceLoans()"),console.log("Searching Viewfinder...");let s={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.quartermasterDeviceLoansSearchURL,s,this.httpOptions).pipe(Object(a.a)(e=>console.log("searh request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("catch search request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}findATSAsset(e){return console.log("Viewfinder Service: findATSAsset()"),this.http.post(this.atsAssetFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(a.a)(e=>console.log("Viewfinder Service: ATS Asset find request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("Viewfinder Service: catch find request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}searchATSAssets(e){console.log("Viewfinder Service: searchATSAssets()"),console.log("Searching Viewfinder...");let s={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.atsAssetsSearchURL,s,this.httpOptions).pipe(Object(a.a)(e=>console.log("searh request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("catch search request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}findQuartermasterAsset(e){return console.log("Viewfinder Service: findQuartermasterAsset()"),this.http.post(this.quartermasterAssetFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(a.a)(e=>console.log("Viewfinder Service: Quartermaster Asset find request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("Viewfinder Service: catch find request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}searchQuartermasterAssets(e){console.log("Viewfinder Service: searchQuartermasterAssets()"),console.log("Searching Viewfinder...");let s={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.quartermasterAssetsSearchURL,s,this.httpOptions).pipe(Object(a.a)(e=>console.log("searh request")),Object(n.a)(2),Object(o.a)(e=>{throw console.log("catch search request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(a.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}}return e.\u0275fac=function(s){return new(s||e)(h.Xb(r.b))},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},t5bl:function(e,s,t){"use strict";t.d(s,"a",function(){return r});var r=function(e){return e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({})},"un/a":function(e,s,t){"use strict";t.d(s,"a",function(){return i});var r=t("7o/Q");function i(e=-1){return s=>s.lift(new a(e,s))}class a{constructor(e,s){this.count=e,this.source=s}call(e,s){return s.subscribe(new n(e,this.count,this.source))}}class n extends r.a{constructor(e,s,t){super(e),this.count=s,this.source=t}error(e){if(!this.isStopped){const{source:s,count:t}=this;if(0===t)return super.error(e);t>-1&&(this.count=t-1),s.subscribe(this._unsubscribeAndRecycle())}}}}}]);