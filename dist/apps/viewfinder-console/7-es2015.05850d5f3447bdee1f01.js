(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{viiV:function(t,s,n){"use strict";n.r(s),n.d(s,"PingsModule",(function(){return L}));var e=n("2kYt"),c=n("sEIs"),i=n("Yzzg"),a=n("BnzL"),o=n("EM62"),r=n("Nbsh"),p=n("8bJt");function u(t,s){1&t&&(o.Tb(0,"span"),o.tc(1,"Unknown"),o.Sb())}function g(t,s){1&t&&(o.Tb(0,"span"),o.tc(1,"Pinging Codex..."),o.Sb())}function b(t,s){if(1&t&&(o.Tb(0,"span"),o.tc(1),o.Sb()),2&t){const t=o.dc(2);o.Cb(1),o.vc("Error: ",t.pingRequestState$.error,"")}}function S(t,s){if(1&t&&(o.Tb(0,"span"),o.tc(1),o.Sb()),2&t){const t=o.dc(2);o.Cb(1),o.vc("Success: ",t.pingRequestState$.response,"")}}function h(t,s){if(1&t&&(o.Rb(0),o.Rb(1,2),o.sc(2,u,2,0,"span",3),o.sc(3,g,2,0,"span",3),o.sc(4,b,2,1,"span",3),o.sc(5,S,2,1,"span",3),o.Qb(),o.Qb()),2&t){const t=s.ngIf,n=o.dc();o.Cb(1),o.ic("ngSwitch",t.status),o.Cb(1),o.ic("ngSwitchCase",n.Status.UNKNOWN),o.Cb(1),o.ic("ngSwitchCase",n.Status.LOADING),o.Cb(1),o.ic("ngSwitchCase",n.Status.ERROR),o.Cb(1),o.ic("ngSwitchCase",n.Status.SUCCESS)}}let d=(()=>{class t{constructor(t){this.codexService=t,this.Status=p.a,this.pingState$=this.codexService.pingState$,this.pingRequestState$=this.codexService.pingRequestState$}ngOnInit(){}doPing(){this.codexService.doPing()}}return t.\u0275fac=function(s){return new(s||t)(o.Nb(r.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["cosmos-codex-ping"]],decls:12,vars:13,consts:[[4,"ngIf"],[3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,s){1&t&&(o.sc(0,h,6,5,"ng-container",0),o.ec(1,"async"),o.Tb(2,"div"),o.tc(3),o.ec(4,"json"),o.ec(5,"async"),o.Sb(),o.Tb(6,"div"),o.tc(7),o.ec(8,"json"),o.ec(9,"async"),o.Sb(),o.Tb(10,"button",1),o.bc("click",(function(){return s.doPing()})),o.tc(11,"Ping!"),o.Sb()),2&t&&(o.ic("ngIf",o.fc(1,3,s.pingRequestState$)),o.Cb(3),o.vc(" ",o.fc(4,5,o.fc(5,7,s.pingRequestState$)),"\n"),o.Cb(4),o.vc(" ",o.fc(8,9,o.fc(9,11,s.pingState$)),"\n"))},directives:[e.l,e.m,e.n],pipes:[e.b,e.f],styles:[""]}),t})();var f=n("vobO"),l=n("C05f"),C=n("8j5Y"),R=n("bl/x"),v=n("4e/d");let w=(()=>{class t{constructor(t){this.http=t,this.pingURL="https://wrdsb-hagar.azurewebsites.net/api/ping",this.aadGroupsCommandURL="https://wrdsb-hagar.azurewebsites.net/api/aad-group-command",this.aadGroupsQueryURL="https://wrdsb-hagar.azurewebsites.net/api/aad-group-query",this.aadGroupsSearchURL="",this.usersURL="",this.pingState=new l.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new l.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.httpOptions={headers:new f.e({"Content-Type":"application/json"})}}doPing(){console.log("Pinging HAGAR..."),this.pingRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(C.a)(t=>console.log("tap")),Object(R.a)(2),Object(v.a)(t=>{throw console.log("catch error"),this.pingRequestState.next({status:p.a.ERROR,response:"",error:t}),this.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging HAGAR"}),Object(C.a)(t=>{this.pingRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success pinging HAGAR")})).subscribe(t=>this.pingState.next(t))}listGroups(){return console.log("HAGAR: list groups"),this.httpOptions={headers:new f.e({"Content-Type":"application/json"})},this.http.post(this.aadGroupsQueryURL,{operation:"list"},this.httpOptions)}}return t.\u0275fac=function(s){return new(s||t)(o.Xb(f.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function m(t,s){1&t&&(o.Tb(0,"span"),o.tc(1,"Unknown"),o.Sb())}function O(t,s){1&t&&(o.Tb(0,"span"),o.tc(1,"Pinging HAGAR..."),o.Sb())}function y(t,s){if(1&t&&(o.Tb(0,"span"),o.tc(1),o.Sb()),2&t){const t=o.dc(2);o.Cb(1),o.vc("Error: ",t.pingRequestState$.error,"")}}function $(t,s){if(1&t&&(o.Tb(0,"span"),o.tc(1),o.Sb()),2&t){const t=o.dc(2);o.Cb(1),o.vc("Success: ",t.pingRequestState$.response,"")}}function T(t,s){if(1&t&&(o.Rb(0),o.Rb(1,2),o.sc(2,m,2,0,"span",3),o.sc(3,O,2,0,"span",3),o.sc(4,y,2,1,"span",3),o.sc(5,$,2,1,"span",3),o.Qb(),o.Qb()),2&t){const t=s.ngIf,n=o.dc();o.Cb(1),o.ic("ngSwitch",t.status),o.Cb(1),o.ic("ngSwitchCase",n.Status.UNKNOWN),o.Cb(1),o.ic("ngSwitchCase",n.Status.LOADING),o.Cb(1),o.ic("ngSwitchCase",n.Status.ERROR),o.Cb(1),o.ic("ngSwitchCase",n.Status.SUCCESS)}}let q=(()=>{class t{constructor(t){this.hagarService=t,this.Status=p.a,this.pingState$=this.hagarService.pingState$,this.pingRequestState$=this.hagarService.pingRequestState$}ngOnInit(){}doPing(){this.hagarService.doPing()}}return t.\u0275fac=function(s){return new(s||t)(o.Nb(w))},t.\u0275cmp=o.Hb({type:t,selectors:[["cosmos-hagar-ping"]],decls:12,vars:13,consts:[[4,"ngIf"],[3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,s){1&t&&(o.sc(0,T,6,5,"ng-container",0),o.ec(1,"async"),o.Tb(2,"div"),o.tc(3),o.ec(4,"json"),o.ec(5,"async"),o.Sb(),o.Tb(6,"div"),o.tc(7),o.ec(8,"json"),o.ec(9,"async"),o.Sb(),o.Tb(10,"button",1),o.bc("click",(function(){return s.doPing()})),o.tc(11,"Ping!"),o.Sb()),2&t&&(o.ic("ngIf",o.fc(1,3,s.pingRequestState$)),o.Cb(3),o.vc(" ",o.fc(4,5,o.fc(5,7,s.pingRequestState$)),"\n"),o.Cb(4),o.vc(" ",o.fc(8,9,o.fc(9,11,s.pingState$)),"\n"))},directives:[e.l,e.m,e.n],pipes:[e.b,e.f],styles:[""]}),t})();var I=n("2Jo0");function A(t,s){1&t&&(o.Tb(0,"span"),o.tc(1,"Unknown"),o.Sb())}function N(t,s){1&t&&(o.Tb(0,"span"),o.tc(1,"Pinging IGOR..."),o.Sb())}function P(t,s){if(1&t&&(o.Tb(0,"span"),o.tc(1),o.Sb()),2&t){const t=o.dc(2);o.Cb(1),o.vc("Error: ",t.pingRequestState$.error,"")}}function U(t,s){if(1&t&&(o.Tb(0,"span"),o.tc(1),o.Sb()),2&t){const t=o.dc(2);o.Cb(1),o.vc("Success: ",t.pingRequestState$.response,"")}}function G(t,s){if(1&t&&(o.Rb(0),o.Rb(1,2),o.sc(2,A,2,0,"span",3),o.sc(3,N,2,0,"span",3),o.sc(4,P,2,1,"span",3),o.sc(5,U,2,1,"span",3),o.Qb(),o.Qb()),2&t){const t=s.ngIf,n=o.dc();o.Cb(1),o.ic("ngSwitch",t.status),o.Cb(1),o.ic("ngSwitchCase",n.Status.UNKNOWN),o.Cb(1),o.ic("ngSwitchCase",n.Status.LOADING),o.Cb(1),o.ic("ngSwitchCase",n.Status.ERROR),o.Cb(1),o.ic("ngSwitchCase",n.Status.SUCCESS)}}let j=(()=>{class t{constructor(t){this.igorService=t,this.Status=p.a,this.pingState$=this.igorService.pingState$,this.pingRequestState$=this.igorService.pingRequestState$}ngOnInit(){}doPing(){this.igorService.doPing()}}return t.\u0275fac=function(s){return new(s||t)(o.Nb(I.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["cosmos-igor-ping"]],decls:12,vars:13,consts:[[4,"ngIf"],[3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,s){1&t&&(o.sc(0,G,6,5,"ng-container",0),o.ec(1,"async"),o.Tb(2,"div"),o.tc(3),o.ec(4,"json"),o.ec(5,"async"),o.Sb(),o.Tb(6,"div"),o.tc(7),o.ec(8,"json"),o.ec(9,"async"),o.Sb(),o.Tb(10,"button",1),o.bc("click",(function(){return s.doPing()})),o.tc(11,"Ping!"),o.Sb()),2&t&&(o.ic("ngIf",o.fc(1,3,s.pingRequestState$)),o.Cb(3),o.vc(" ",o.fc(4,5,o.fc(5,7,s.pingRequestState$)),"\n"),o.Cb(4),o.vc(" ",o.fc(8,9,o.fc(9,11,s.pingState$)),"\n"))},directives:[e.l,e.m,e.n],pipes:[e.b,e.f],styles:[""]}),t})();const k=[{path:"codex",component:d,data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[i.d,a.a]},{path:"hagar",component:q,data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[i.d,a.a]},{path:"igor",component:j,data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[i.d,a.a]},{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=o.Hb({type:t,selectors:[["cosmos-all-pings"]],decls:11,vars:0,template:function(t,s){1&t&&(o.Tb(0,"div"),o.tc(1,"Codex: "),o.Ob(2,"cosmos-codex-ping"),o.Sb(),o.Ob(3,"hr"),o.Tb(4,"div"),o.tc(5,"HAGAR: "),o.Ob(6,"cosmos-hagar-ping"),o.Sb(),o.Ob(7,"hr"),o.Tb(8,"div"),o.tc(9,"IGOR: "),o.Ob(10,"cosmos-igor-ping"),o.Sb())},directives:[d,q,j],styles:[""]}),t})(),data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[i.d,a.a]}];let x=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(s){return new(s||t)},imports:[[c.e.forChild(k)],c.e]}),t})(),L=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(s){return new(s||t)},imports:[[e.c,x]]}),t})()}}]);