(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{lK3A:function(e,t,c){"use strict";c.r(t),c.d(t,"GoogleCalendarModule",(function(){return A}));var n=c("2kYt"),a=c("vobO"),s=c("Yzzg"),r=c("fL1z"),i=c("nIj0"),o=c("Pq5H"),l=c("PBFl"),d=c("FlRo"),b=c("OZ4H"),u=c("sEIs"),h=c("BnzL"),p=c("EM62"),g=c("C05f"),f=c("1xOy"),C=c("lu7F"),w=c("8j5Y"),m=c("bl/x"),v=c("4e/d"),k=c("8bJt"),S=c("knQq"),x=c("L6rV");let y=(()=>{class e{constructor(e,t){this.messagesService=e,this.viewfinderService=t,this.searchRequestState=new g.a({status:k.a.UNKNOWN,response:"response",error:"error"}),this.searchRequestState$=this.searchRequestState.asObservable(),this.searchResponse=new g.a({header:{message:"",chatter:"",status:0,timestamp:""},payload:{}}),this.searchResponse$=this.searchResponse.asObservable(),this.calendarsList=new g.a([]),this.calendarsList$=this.calendarsList.asObservable(),this.calendarSelected=new g.a(!1),this.calendarSelected$=this.calendarSelected.asObservable(),this.selectedCalendar=new g.a(null),this.selectedCalendar$=this.selectedCalendar.asObservable()}selectCalendar(e){this.findCalendar(e)}deselectCalendar(){this.calendarSelected.next(!1),this.selectedCalendar.next(null)}findCalendar(e){console.log("Google Calendar Service: findCalendar()"),this.searchRequestState.next({status:k.a.LOADING,response:"unknown",error:"unknown"}),this.viewfinderService.findGoogleCalendar(e).pipe(Object(w.a)(e=>console.log("Google Calendar Service: find request")),Object(m.a)(2),Object(v.a)(e=>{throw console.log("Google Calendar Service: catch find request error"),this.searchRequestState.next({status:k.a.ERROR,response:"",error:e}),this.searchResponse.next({header:{status:200,message:"error",chatter:"error",timestamp:"timestamp"},payload:{}}),"Google Calendar Service: error finding Google Calendar"}),Object(w.a)(e=>{this.searchRequestState.next({status:k.a.SUCCESS,response:"success",error:""}),console.log("Google Calendar Service: success finding Google Calendar")})).subscribe(e=>{this.calendarSelected.next(!0),this.selectedCalendar.next(e.payload.documents[0])})}searchCalendars(e){console.log("Google Calendar Service: searchCalendars()");let t=Object.assign({includeTotalCount:!0,orderBy:["email asc"],skip:0,top:20},e);this.searchRequestState.next({status:k.a.LOADING,response:"unknown",error:"unknown"}),this.viewfinderService.searchGoogleCalendars(t).pipe(Object(w.a)(e=>console.log("Google Calendars Service: search request")),Object(m.a)(2),Object(v.a)(e=>{throw console.log("Google Calendars Service: catch search request error"),this.searchRequestState.next({status:k.a.ERROR,response:"",error:e}),this.searchResponse.next({header:{status:200,message:"error",chatter:"error",timestamp:"timestamp"},payload:{}}),"Google Calendars Service: error searching Viewfinder"}),Object(w.a)(e=>{this.searchRequestState.next({status:k.a.SUCCESS,response:"success",error:""}),console.log("Google Calendars Service: success searching Viewfinder")})).subscribe(e=>{this.searchResponse.next(e),this.calendarsList.next(e.payload.documents)})}}return e.\u0275fac=function(t){return new(t||e)(p.Yb(S.a),p.Yb(x.a))},e.\u0275prov=p.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var U=c("YtkY"),O=c("mWib"),T=c("Ohay");function P(e,t){if(1&e&&(p.Sb(0),p.Ub(1,"h1",1),p.wc(2),p.Tb(),p.Ub(3,"div",2),p.Ub(4,"div",3),p.Ub(5,"span",4),p.wc(6,"Name (Summary):"),p.Tb(),p.Ub(7,"span",5),p.wc(8),p.Tb(),p.Tb(),p.Ub(9,"div",3),p.Ub(10,"span",4),p.wc(11,"Description:"),p.Tb(),p.Ub(12,"span",5),p.wc(13),p.Tb(),p.Tb(),p.Ub(14,"div",3),p.Ub(15,"span",4),p.wc(16,"Calendar ID:"),p.Tb(),p.Ub(17,"span",5),p.wc(18),p.Tb(),p.Tb(),p.Tb(),p.Ub(19,"div",6),p.Ub(20,"button",7),p.wc(21,"Close"),p.Tb(),p.Tb(),p.Rb()),2&e){const e=t.ngIf;p.Cb(2),p.xc(e.summary),p.Cb(6),p.xc(e.summary),p.Cb(5),p.xc(e.description),p.Cb(5),p.xc(e.id),p.Cb(2),p.jc("mat-dialog-close",!0)}}let R=(()=>{class e{constructor(e){this.calendarService=e,this.selectedCalendar$=this.calendarService.selectedCalendar$}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(y))},e.\u0275cmp=p.Ib({type:e,selectors:[["cosmos-calendar-meta-dialog"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content","",1,"detail"],[1,"detail-row"],[1,"detail-attribute"],[1,"detail-value"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(p.uc(0,P,22,5,"ng-container",0),p.fc(1,"async")),2&e&&p.jc("ngIf",p.gc(1,1,t.selectedCalendar$))},directives:[n.l,b.f,b.d,b.b,l.a,b.c],pipes:[n.b],styles:[".detail[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:20px;font-weight:400;color:#fff;text-decoration:none;line-height:1.5}.detail-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:flex-start}.detail-attribute[_ngcontent-%COMP%]{font-weight:700}.users-list[_ngcontent-%COMP%]{list-style:none}"]}),e})();function I(e,t){1&e&&(p.Ub(0,"th",19),p.wc(1," ID "),p.Tb())}function j(e,t){if(1&e){const e=p.Vb();p.Ub(0,"td",20),p.cc("click",(function(){p.nc(e);const c=t.$implicit;return p.ec().selectCalendar(c.searchID)})),p.wc(1),p.Tb()}if(2&e){const e=t.$implicit;p.Cb(1),p.yc(" ",e.searchID," ")}}function $(e,t){1&e&&(p.Ub(0,"th",19),p.wc(1," Name "),p.Tb())}function D(e,t){if(1&e){const e=p.Vb();p.Ub(0,"td",20),p.cc("click",(function(){p.nc(e);const c=t.$implicit;return p.ec().selectCalendar(c.searchID)})),p.wc(1),p.Tb()}if(2&e){const e=t.$implicit;p.Cb(1),p.yc(" ",e.summary," ")}}function M(e,t){1&e&&(p.Ub(0,"th",19),p.wc(1," Description "),p.Tb())}function _(e,t){if(1&e){const e=p.Vb();p.Ub(0,"td",20),p.cc("click",(function(){p.nc(e);const c=t.$implicit;return p.ec().selectCalendar(c.searchID)})),p.wc(1),p.Tb()}if(2&e){const e=t.$implicit;p.Cb(1),p.yc(" ",e.description," ")}}function G(e,t){1&e&&p.Pb(0,"tr",21)}function q(e,t){1&e&&p.Pb(0,"tr",22)}const L=function(){return{color:"orange"}};let V=(()=>{class e{constructor(e,t){this.calendarService=e,this.dialog=t,this.FalseIcon=f.a,this.MaybeIcon=C.a,this.TrueIcon=C.e,this.angleUpIcon=C.c,this.angleDownIcon=C.b,this.beginningIcon=C.f,this.backwardIcon=C.d,this.forwardIcon=C.h,this.endIcon=C.g,this.displayedColumns$=new g.a(["summary","description","id"]),this.searchFormControl=new i.c,this.currentPage=new g.a(1),this.currentSearch=new g.a("*"),this.pageSize=new g.a(20),this.maxPage=new g.a(1),this.searchResponse$=this.calendarService.searchResponse$,this.totalRecords$=this.searchResponse$.pipe(Object(U.a)(e=>e.payload.count)),this.calendarsPage$=this.calendarService.calendarsList$,this.maxPage$=this.totalRecords$.pipe(Object(U.a)(e=>Math.ceil(e/this.pageSize.value))),this.maxPage$.subscribe(this.maxPage),this.calendarSelected$=this.calendarService.calendarSelected$,this.selectedCalendar$=this.calendarService.selectedCalendar$}ngOnInit(){this.searchCalendars()}ngAfterViewInit(){this.searchFormControl.valueChanges.pipe(Object(O.a)(400),Object(T.a)()).subscribe(e=>{console.log(e),this.currentSearch.next(e),this.currentPage.next(1),this.searchCalendars()})}pageBeginning(){this.currentPage.next(1),this.searchCalendars()}pageUp(){const e=this.currentPage.value-1;this.nextPageValid(e)&&(this.currentPage.next(e),this.searchCalendars())}pageDown(){const e=this.currentPage.value+1;this.nextPageValid(e)&&(this.currentPage.next(e),this.searchCalendars())}pageEnd(){this.currentPage.next(this.maxPage.value),this.searchCalendars()}nextPageValid(e){return e>=1&&e<=this.maxPage.value}selectCalendar(e){console.log("Show details for "+e),this.calendarService.selectCalendar(e),this.calendarMetaDialogRef=this.dialog.open(R,{width:"800px"})}deselectCalendar(){console.log("Deselect selected calendar"),this.calendarService.deselectCalendar()}searchCalendars(){this.calendarService.searchCalendars({search:this.currentSearch.value,skip:(this.currentPage.value-1)*this.pageSize.value})}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(y),p.Ob(b.a))},e.\u0275cmp=p.Ib({type:e,selectors:[["cosmos-calendar-search"]],decls:45,vars:36,consts:[[1,"calendars-list"],[1,"widget","list"],[1,"widget-content"],[1,"widget-header"],[1,"widget-title"],["type","text","placeholder","Search\u2026",1,"form-control",3,"formControl"],[3,"click"],[1,"widget-info"],[1,"widget-main"],[1,"page-button"],["size","lg",3,"icon","styles","click"],["cdk-table","",3,"dataSource"],["cdkColumnDef","id"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","","class","clickable",3,"click",4,"cdkCellDef"],["cdkColumnDef","summary"],["cdkColumnDef","description"],["cdk-header-row","",4,"cdkHeaderRowDef","cdkHeaderRowDefSticky"],["cdk-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-header-cell",""],["cdk-cell","",1,"clickable",3,"click"],["cdk-header-row",""],["cdk-row",""]],template:function(e,t){1&e&&(p.Ub(0,"div",0),p.Ub(1,"div",1),p.Ub(2,"div",2),p.Ub(3,"div",3),p.Ub(4,"div",4),p.wc(5," Search Google Calendars "),p.Tb(),p.Ub(6,"div"),p.Pb(7,"input",5),p.Ub(8,"button",6),p.cc("click",(function(){return t.searchFormControl.setValue("")})),p.wc(9,"Clear"),p.Tb(),p.Tb(),p.Ub(10,"div",7),p.wc(11),p.fc(12,"async"),p.fc(13,"async"),p.Tb(),p.Tb(),p.Ub(14,"div",8),p.Ub(15,"div"),p.Ub(16,"span",9),p.Ub(17,"fa-icon",10),p.cc("click",(function(){return t.pageBeginning()})),p.Tb(),p.Tb(),p.Ub(18,"span",9),p.Ub(19,"fa-icon",10),p.cc("click",(function(){return t.pageUp()})),p.Tb(),p.Tb(),p.Ub(20,"span",9),p.Ub(21,"fa-icon",10),p.cc("click",(function(){return t.pageDown()})),p.Tb(),p.Tb(),p.Ub(22,"span",9),p.Ub(23,"fa-icon",10),p.cc("click",(function(){return t.pageEnd()})),p.Tb(),p.Tb(),p.Tb(),p.Ub(24,"table",11),p.Sb(25,12),p.uc(26,I,2,0,"th",13),p.uc(27,j,2,1,"td",14),p.Rb(),p.Sb(28,15),p.uc(29,$,2,0,"th",13),p.uc(30,D,2,1,"td",14),p.Rb(),p.Sb(31,16),p.uc(32,M,2,0,"th",13),p.uc(33,_,2,1,"td",14),p.Rb(),p.uc(34,G,1,0,"tr",17),p.uc(35,q,1,0,"tr",18),p.Tb(),p.Ub(36,"div"),p.Ub(37,"span",9),p.Ub(38,"fa-icon",10),p.cc("click",(function(){return t.pageBeginning()})),p.Tb(),p.Tb(),p.Ub(39,"span",9),p.Ub(40,"fa-icon",10),p.cc("click",(function(){return t.pageUp()})),p.Tb(),p.Tb(),p.Ub(41,"span",9),p.Ub(42,"fa-icon",10),p.cc("click",(function(){return t.pageDown()})),p.Tb(),p.Tb(),p.Ub(43,"span",9),p.Ub(44,"fa-icon",10),p.cc("click",(function(){return t.pageEnd()})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&e&&(p.Cb(7),p.jc("formControl",t.searchFormControl),p.Cb(4),p.Ac(" ",p.gc(12,24,t.totalRecords$)," total records | Showing Page ",t.currentPage.value," of ",p.gc(13,26,t.maxPage$),"\xa0\xa0 "),p.Cb(6),p.jc("icon",t.beginningIcon)("styles",p.kc(28,L)),p.Cb(2),p.jc("icon",t.backwardIcon)("styles",p.kc(29,L)),p.Cb(2),p.jc("icon",t.forwardIcon)("styles",p.kc(30,L)),p.Cb(2),p.jc("icon",t.endIcon)("styles",p.kc(31,L)),p.Cb(1),p.jc("dataSource",t.calendarsPage$),p.Cb(10),p.jc("cdkHeaderRowDef",t.displayedColumns$.value)("cdkHeaderRowDefSticky",!0),p.Cb(1),p.jc("cdkRowDefColumns",t.displayedColumns$.value),p.Cb(3),p.jc("icon",t.beginningIcon)("styles",p.kc(32,L)),p.Cb(2),p.jc("icon",t.backwardIcon)("styles",p.kc(33,L)),p.Cb(2),p.jc("icon",t.forwardIcon)("styles",p.kc(34,L)),p.Cb(2),p.jc("icon",t.endIcon)("styles",p.kc(35,L)))},directives:[i.b,i.j,i.d,o.a,r.p,r.e,r.k,r.c,r.m,r.o,r.j,r.b,r.l,r.n],pipes:[n.b],styles:[".widget[_ngcontent-%COMP%], [_nghost-%COMP%]{display:grid}.widget[_ngcontent-%COMP%]{border:2px solid #6d6d6b;border-top:14px solid #6d6d6b;padding:10px;overflow:auto;font-family:Jura,sans-serif;font-size:18px;font-weight:400;color:#fff;text-decoration:none;line-height:1.5}.widget-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;color:#0a1a43;background-color:#29c2d7}table[_ngcontent-%COMP%]{width:100%}.calendars-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:flex-start}.list[_ngcontent-%COMP%]{flex:1 1 auto}.clickable[_ngcontent-%COMP%]{cursor:pointer}.cdk-row[_ngcontent-%COMP%]{background-color:#1f3d73}.cdk-column-email[_ngcontent-%COMP%]{width:30%}.cdk-column-name[_ngcontent-%COMP%]{width:45%}.cdk-column-adminCreated[_ngcontent-%COMP%], .cdk-column-membership_automation_active[_ngcontent-%COMP%]{text-align:center}.page-button[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;cursor:pointer}"]}),e})(),z=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Ib({type:e,selectors:[["cosmos-calendar-home"]],decls:1,vars:0,template:function(e,t){1&e&&p.Pb(0,"cosmos-calendar-search")},directives:[V],styles:[""]}),e})();const E=[{path:"calendar",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Ib({type:e,selectors:[["cosmos-calendar-detail"]],decls:2,vars:0,template:function(e,t){1&e&&(p.Ub(0,"p"),p.wc(1,"calendar-detail works!"),p.Tb())},styles:[""]}),e})(),data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[s.d,h.a]},{path:"",component:z,data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[s.d,h.a]}];let F=(()=>{class e{}return e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({factory:function(t){return new(t||e)},imports:[[u.e.forChild(E)],u.e]}),e})(),A=(()=>{class e{}return e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({factory:function(t){return new(t||e)},providers:[{provide:a.a,useClass:s.e,multi:!0}],imports:[[n.c,r.q,i.f,i.l,o.b,l.b,d.a,b.e,F]]}),e})()}}]);