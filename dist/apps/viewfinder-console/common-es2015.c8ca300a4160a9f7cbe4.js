(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{y0KH:function(t,s,e){"use strict";e.d(s,"a",function(){return g});var o=e("tk/3"),r=e("2Vo4"),n=e("vkgz"),a=e("un/a"),i=e("JIr8"),p=e("t5bl"),u=e("fXoL");let g=(()=>{class t{constructor(t){this.http=t,this.pingURL="https://wrdsb-igor3.azurewebsites.net/api/ping",this.googleGroupsCommandURL="https://wrdsb-igor3.azurewebsites.net/api/google-group-command",this.googleGroupsQueryURL="https://wrdsb-igor3.azurewebsites.net/api/group-query",this.googleGroupsSearchURL="",this.usersURL="",this.pingState=new r.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new r.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.listGroupsResponse=new r.a({payload:[{name:"Loading...",email:"Loading..."}]}),this.listGroupsRequestState=new r.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.listGroupsResponse$=this.listGroupsResponse.asObservable(),this.listGroupsRequestState$=this.listGroupsRequestState.asObservable(),this.httpOptions={headers:new o.e({"Content-Type":"application/json"})}}doPing(){console.log("Pinging IGOR..."),this.pingRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(n.a)(t=>console.log("tap")),Object(a.a)(2),Object(i.a)(t=>{throw console.log("catch error"),this.pingRequestState.next({status:p.a.ERROR,response:"",error:t}),this.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging IGOR"}),Object(n.a)(t=>{this.pingRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success pinging IGOR")})).subscribe(t=>this.pingState.next(t))}listGroups(t){console.log("IGOR: list groups"),this.listGroupsRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"});let s={headers:new o.e({"Content-Type":"application/json"}),params:(new o.f).set("operation","list").set("payload",t)};this.http.get(this.googleGroupsQueryURL,s).pipe(Object(n.a)(t=>console.log("tap")),Object(a.a)(2),Object(i.a)(t=>{throw console.log("catch error"),this.listGroupsRequestState.next({status:p.a.ERROR,response:"",error:t}),this.listGroupsResponse.next({payload:[]}),"error listing groups"}),Object(n.a)(t=>{this.listGroupsRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success listing groups")})).subscribe(t=>this.listGroupsResponse.next(t))}}return t.\u0275fac=function(s){return new(s||t)(u.Vb(o.b))},t.\u0275prov=u.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);