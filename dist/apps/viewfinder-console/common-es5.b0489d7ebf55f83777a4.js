!function(){function e(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{y0KH:function(t,s,r){"use strict";r.d(s,"a",function(){return l});var n,o=r("tk/3"),a=r("2Vo4"),i=r("vkgz"),p=r("un/a"),u=r("JIr8"),c=r("t5bl"),g=r("fXoL"),l=((n=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.http=e,this.apiTargetAppName="IGOR",this.serviceName="".concat(this.apiTargetAppName," Service"),this.pingURL="https://wrdsb-igor3.azurewebsites.net/api/ping",this.googleGroupsCommandURL="https://wrdsb-igor3.azurewebsites.net/api/google-group-command",this.googleGroupsQueryURL="https://wrdsb-igor3.azurewebsites.net/api/group-query",this.googleGroupsSearchURL="",this.usersURL="",this.pingState=new a.a({header:{status:0,message:"",chatter:"",timestamp:"",authenticated:!1,authorized:!1,userName:"",userEmail:"",userRoles:[]},payload:{status:0,message:"",chatter:"",timestamp:""}}),this.pingRequestState=new a.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.listGroupsResponse=new a.a({payload:[{name:"Loading...",email:"Loading..."}]}),this.listGroupsRequestState=new a.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.listGroupsResponse$=this.listGroupsResponse.asObservable(),this.listGroupsRequestState$=this.listGroupsRequestState.asObservable(),this.httpOptions={headers:new o.d({"Content-Type":"application/json"})}}var s,r,n;return s=t,(r=[{key:"doPing",value:function(){var e=this;console.log("".concat(this.serviceName,": doPing()")),console.log("Pinging ".concat(this.apiTargetAppName,"...")),this.pingRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(i.a)(function(e){return console.log("ping request")}),Object(p.a)(2),Object(u.a)(function(t){throw console.log("catch ping request error"),e.pingRequestState.next({status:c.a.ERROR,response:"",error:t}),e.pingState.next({header:{status:200,message:"error",chatter:"error",timestamp:"timestamp"},payload:{status:200,message:"error",chatter:"error",timestamp:"timestamp"}}),"error pinging ".concat(e.apiTargetAppName)}),Object(i.a)(function(t){e.pingRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success pinging ".concat(e.apiTargetAppName))})).subscribe(function(t){return e.pingState.next(t)})}},{key:"listGroups",value:function(e){var t=this;console.log("IGOR: list groups"),this.listGroupsRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"});var s={headers:new o.d({"Content-Type":"application/json"}),params:(new o.e).set("operation","list").set("payload",e)};this.http.get(this.googleGroupsQueryURL,s).pipe(Object(i.a)(function(e){return console.log("tap")}),Object(p.a)(2),Object(u.a)(function(e){throw console.log("catch error"),t.listGroupsRequestState.next({status:c.a.ERROR,response:"",error:e}),t.listGroupsResponse.next({payload:[]}),"error listing groups"}),Object(i.a)(function(e){t.listGroupsRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success listing groups")})).subscribe(function(e){return t.listGroupsResponse.next(e)})}}])&&e(s.prototype,r),n&&e(s,n),t}()).\u0275fac=function(e){return new(e||n)(g.Yb(o.b))},n.\u0275prov=g.Kb({token:n,factory:n.\u0275fac,providedIn:"root"}),n)}}])}();