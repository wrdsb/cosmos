!function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{y0KH:function(t,s,n){"use strict";n.d(s,"a",function(){return l});var o,r=n("tk/3"),a=n("2Vo4"),i=n("vkgz"),p=n("un/a"),u=n("JIr8"),c=n("t5bl"),g=n("fXoL"),l=((o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.http=e,this.apiTargetAppName="IGOR",this.serviceName="".concat(this.apiTargetAppName," Service"),this.pingURL="https://wrdsb-igor3.azurewebsites.net/api/ping",this.googleGroupsCommandURL="https://wrdsb-igor3.azurewebsites.net/api/google-group-command",this.googleGroupsQueryURL="https://wrdsb-igor3.azurewebsites.net/api/group-query",this.googleGroupsSearchURL="",this.usersURL="",this.pingState=new a.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new a.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.listGroupsResponse=new a.a({payload:[{name:"Loading...",email:"Loading..."}]}),this.listGroupsRequestState=new a.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.listGroupsResponse$=this.listGroupsResponse.asObservable(),this.listGroupsRequestState$=this.listGroupsRequestState.asObservable(),this.httpOptions={headers:new r.e({"Content-Type":"application/json"})}}var s,n,o;return s=t,(n=[{key:"doPing",value:function(){var e=this;console.log("".concat(this.serviceName,": doPing()")),console.log("Pinging ".concat(this.apiTargetAppName,"...")),this.pingRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(i.a)(function(e){return console.log("ping request")}),Object(p.a)(2),Object(u.a)(function(t){throw console.log("catch ping request error"),e.pingRequestState.next({status:c.a.ERROR,response:"",error:t}),e.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging ".concat(e.apiTargetAppName)}),Object(i.a)(function(t){e.pingRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success pinging ".concat(e.apiTargetAppName))})).subscribe(function(t){return e.pingState.next(t)})}},{key:"listGroups",value:function(e){var t=this;console.log("IGOR: list groups"),this.listGroupsRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"});var s={headers:new r.e({"Content-Type":"application/json"}),params:(new r.f).set("operation","list").set("payload",e)};this.http.get(this.googleGroupsQueryURL,s).pipe(Object(i.a)(function(e){return console.log("tap")}),Object(p.a)(2),Object(u.a)(function(e){throw console.log("catch error"),t.listGroupsRequestState.next({status:c.a.ERROR,response:"",error:e}),t.listGroupsResponse.next({payload:[]}),"error listing groups"}),Object(i.a)(function(e){t.listGroupsRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success listing groups")})).subscribe(function(e){return t.listGroupsResponse.next(e)})}}])&&e(s.prototype,n),o&&e(s,o),t}()).\u0275fac=function(e){return new(e||o)(g.Xb(r.b))},o.\u0275prov=g.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o)}}])}();