!function(){function e(t,r,s){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var s=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}(e,t);if(s){var i=Object.getOwnPropertyDescriptor(s,t);return i.get?i.get.call(r):i.value}})(t,r,s||t)}function t(e,r){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,r)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,i=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Goz9:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var s,n=r("tk/3"),o=r("2Vo4"),c=r("vkgz"),u=r("un/a"),h=r("JIr8"),p=r("t5bl"),f=r("fXoL"),l=((s=function(){function e(t){i(this,e),this.http=t,this.apiTargetAppName="Viewfinder",this.serviceName="".concat(this.apiTargetAppName," Service"),this.pingURL="https://wrdsb-viewfinder.azurewebsites.net/api/ping",this.googleGroupsFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-group-find",this.googleGroupsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-groups-search",this.googleCalendarFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-calendar-find",this.googleCalendarsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-calendars-search",this.quartermasterDeviceLoanFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/device-loan-find",this.quartermasterDeviceLoansSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/device-loans-search",this.atsAssetFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/ats-asset-find",this.atsAssetsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/ats-assets-search",this.quartermasterAssetFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/quartermaster-asset-find",this.quartermasterAssetsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/quartermaster-assets-search",this.pingState=new o.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new o.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.searchRequestState=new o.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.searchRequestState$=this.searchRequestState.asObservable(),this.httpOptions={headers:new n.e({"Content-Type":"application/json"})}}return a(e,[{key:"doPing",value:function(){var e=this;console.log("".concat(this.serviceName,": doPing()")),console.log("Pinging ".concat(this.apiTargetAppName,"...")),this.pingRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(c.a)(function(e){return console.log("ping request")}),Object(u.a)(2),Object(h.a)(function(t){throw console.log("catch ping request error"),e.pingRequestState.next({status:p.a.ERROR,response:"",error:t}),e.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging ".concat(e.apiTargetAppName)}),Object(c.a)(function(t){e.pingRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success pinging ".concat(e.apiTargetAppName))})).subscribe(function(t){return e.pingState.next(t)})}},{key:"findGoogleGroup",value:function(e){var t=this;return console.log("Viewfinder Service: findGoogleGroup()"),this.http.post(this.googleGroupsFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(c.a)(function(e){return console.log("Viewfinder Service: Google Group find request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("Viewfinder Service: catch find request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}},{key:"searchGoogleGroups",value:function(e){var t=this;console.log("Viewfinder Service: searchGoogleGroups()"),console.log("Searching Viewfinder...");var r={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.googleGroupsSearchURL,r,this.httpOptions).pipe(Object(c.a)(function(e){return console.log("searh request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("catch search request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}},{key:"findGoogleCalendar",value:function(e){var t=this;return console.log("Viewfinder Service: findGoogleCalendar()"),this.http.post(this.googleCalendarFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(c.a)(function(e){return console.log("Viewfinder Service: Google Calendar find request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("Viewfinder Service: catch find request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}},{key:"searchGoogleCalendars",value:function(e){var t=this;console.log("Viewfinder Service: searchGoogleCalendars()"),console.log("Searching Viewfinder...");var r={payload:Object.assign({includeTotalCount:!0,orderBy:["summary asc"],skip:0,top:20},e)};return this.searchRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.googleCalendarsSearchURL,r,this.httpOptions).pipe(Object(c.a)(function(e){return console.log("searh request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("catch search request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}},{key:"findQuartermasterDeviceLoan",value:function(e){var t=this;return console.log("Viewfinder Service: findQuartermasterDeviceLoan()"),this.http.post(this.quartermasterDeviceLoanFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(c.a)(function(e){return console.log("Viewfinder Service: Quartermaster Device Loan find request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("Viewfinder Service: catch find request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}},{key:"searchQuartermasterDeviceLoans",value:function(e){var t=this;console.log("Viewfinder Service: searchQuartermasterDeviceLoans()"),console.log("Searching Viewfinder...");var r={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.quartermasterDeviceLoansSearchURL,r,this.httpOptions).pipe(Object(c.a)(function(e){return console.log("searh request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("catch search request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}},{key:"findATSAsset",value:function(e){var t=this;return console.log("Viewfinder Service: findATSAsset()"),this.http.post(this.atsAssetFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(c.a)(function(e){return console.log("Viewfinder Service: ATS Asset find request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("Viewfinder Service: catch find request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}},{key:"searchATSAssets",value:function(e){var t=this;console.log("Viewfinder Service: searchATSAssets()"),console.log("Searching Viewfinder...");var r={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.atsAssetsSearchURL,r,this.httpOptions).pipe(Object(c.a)(function(e){return console.log("searh request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("catch search request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}},{key:"findQuartermasterAsset",value:function(e){var t=this;return console.log("Viewfinder Service: findQuartermasterAsset()"),this.http.post(this.quartermasterAssetFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(c.a)(function(e){return console.log("Viewfinder Service: Quartermaster Asset find request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("Viewfinder Service: catch find request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success finding via Viewfinder")}))}},{key:"searchQuartermasterAssets",value:function(e){var t=this;console.log("Viewfinder Service: searchQuartermasterAssets()"),console.log("Searching Viewfinder...");var r={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.quartermasterAssetsSearchURL,r,this.httpOptions).pipe(Object(c.a)(function(e){return console.log("searh request")}),Object(u.a)(2),Object(h.a)(function(e){throw console.log("catch search request error"),t.searchRequestState.next({status:p.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(c.a)(function(e){t.searchRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}}]),e}()).\u0275fac=function(e){return new(e||s)(f.Xb(n.b))},s.\u0275prov=f.Jb({token:s,factory:s.\u0275fac,providedIn:"root"}),s)},t5bl:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s=function(e){return e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({})},"un/a":function(s,o,c){"use strict";c.d(o,"a",function(){return h});var u=c("7o/Q");function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return t.lift(new p(e,t))}}var p=function(){function e(t,r){i(this,e),this.count=t,this.source=r}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e,this.count,this.source))}}]),e}(),f=function(s){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&t(e,r)}(c,s);var o=r(c);function c(e,t,r){var s;return i(this,c),(s=o.call(this,e)).count=t,s.source=r,s}return a(c,[{key:"error",value:function(t){if(!this.isStopped){var r=this.source,s=this.count;if(0===s)return e(n(c.prototype),"error",this).call(this,t);s>-1&&(this.count=s-1),r.subscribe(this._unsubscribeAndRecycle())}}}]),c}(u.a)}}])}();