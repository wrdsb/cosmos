!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var s=n[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{viiV:function(n,s,i){"use strict";i.r(s),i.d(s,"PingsModule",(function(){return Y}));var c=i("2kYt"),a=i("sEIs"),o=i("Yzzg"),r=i("BnzL"),u=i("EM62"),p=i("Nbsh"),b=i("8bJt");function g(t,n){1&t&&(u.Tb(0,"span"),u.tc(1,"Unknown"),u.Sb())}function S(t,n){1&t&&(u.Tb(0,"span"),u.tc(1,"Pinging Codex..."),u.Sb())}function f(t,n){if(1&t&&(u.Tb(0,"span"),u.tc(1),u.Sb()),2&t){var e=u.dc(2);u.Cb(1),u.vc("Error: ",e.pingRequestState$.error,"")}}function h(t,n){if(1&t&&(u.Tb(0,"span"),u.tc(1),u.Sb()),2&t){var e=u.dc(2);u.Cb(1),u.vc("Success: ",e.pingRequestState$.response,"")}}function d(t,n){if(1&t&&(u.Rb(0),u.Rb(1,2),u.sc(2,g,2,0,"span",3),u.sc(3,S,2,0,"span",3),u.sc(4,f,2,1,"span",3),u.sc(5,h,2,1,"span",3),u.Qb(),u.Qb()),2&t){var e=n.ngIf,s=u.dc();u.Cb(1),u.ic("ngSwitch",e.status),u.Cb(1),u.ic("ngSwitchCase",s.Status.UNKNOWN),u.Cb(1),u.ic("ngSwitchCase",s.Status.LOADING),u.Cb(1),u.ic("ngSwitchCase",s.Status.ERROR),u.Cb(1),u.ic("ngSwitchCase",s.Status.SUCCESS)}}var v,l,C=((v=function(){function n(e){t(this,n),this.codexService=e,this.Status=b.a,this.pingState$=this.codexService.pingState$,this.pingRequestState$=this.codexService.pingRequestState$}return e(n,[{key:"ngOnInit",value:function(){}},{key:"doPing",value:function(){this.codexService.doPing()}}]),n}()).\u0275fac=function(t){return new(t||v)(u.Nb(p.a))},v.\u0275cmp=u.Hb({type:v,selectors:[["cosmos-codex-ping"]],decls:12,vars:13,consts:[[4,"ngIf"],[3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,n){1&t&&(u.sc(0,d,6,5,"ng-container",0),u.ec(1,"async"),u.Tb(2,"div"),u.tc(3),u.ec(4,"json"),u.ec(5,"async"),u.Sb(),u.Tb(6,"div"),u.tc(7),u.ec(8,"json"),u.ec(9,"async"),u.Sb(),u.Tb(10,"button",1),u.bc("click",(function(){return n.doPing()})),u.tc(11,"Ping!"),u.Sb()),2&t&&(u.ic("ngIf",u.fc(1,3,n.pingRequestState$)),u.Cb(3),u.vc(" ",u.fc(4,5,u.fc(5,7,n.pingRequestState$)),"\n"),u.Cb(4),u.vc(" ",u.fc(8,9,u.fc(9,11,n.pingState$)),"\n"))},directives:[c.l,c.m,c.n],pipes:[c.b,c.f],styles:[""]}),v),R=i("vobO"),w=i("C05f"),m=i("8j5Y"),y=i("bl/x"),O=i("4e/d"),$=((l=function(){function n(e){t(this,n),this.http=e,this.pingURL="https://wrdsb-hagar.azurewebsites.net/api/ping",this.aadGroupsCommandURL="https://wrdsb-hagar.azurewebsites.net/api/aad-group-command",this.aadGroupsQueryURL="https://wrdsb-hagar.azurewebsites.net/api/aad-group-query",this.aadGroupsSearchURL="",this.usersURL="",this.pingState=new w.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new w.a({status:b.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.httpOptions={headers:new R.e({"Content-Type":"application/json"})}}return e(n,[{key:"doPing",value:function(){var t=this;console.log("Pinging HAGAR..."),this.pingRequestState.next({status:b.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(m.a)((function(t){return console.log("tap")})),Object(y.a)(2),Object(O.a)((function(n){throw console.log("catch error"),t.pingRequestState.next({status:b.a.ERROR,response:"",error:n}),t.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging HAGAR"})),Object(m.a)((function(n){t.pingRequestState.next({status:b.a.SUCCESS,response:"success",error:""}),console.log("success pinging HAGAR")}))).subscribe((function(n){return t.pingState.next(n)}))}},{key:"listGroups",value:function(){return console.log("HAGAR: list groups"),this.httpOptions={headers:new R.e({"Content-Type":"application/json"})},this.http.post(this.aadGroupsQueryURL,{operation:"list"},this.httpOptions)}}]),n}()).\u0275fac=function(t){return new(t||l)(u.Xb(R.b))},l.\u0275prov=u.Jb({token:l,factory:l.\u0275fac,providedIn:"root"}),l);function T(t,n){1&t&&(u.Tb(0,"span"),u.tc(1,"Unknown"),u.Sb())}function k(t,n){1&t&&(u.Tb(0,"span"),u.tc(1,"Pinging HAGAR..."),u.Sb())}function q(t,n){if(1&t&&(u.Tb(0,"span"),u.tc(1),u.Sb()),2&t){var e=u.dc(2);u.Cb(1),u.vc("Error: ",e.pingRequestState$.error,"")}}function I(t,n){if(1&t&&(u.Tb(0,"span"),u.tc(1),u.Sb()),2&t){var e=u.dc(2);u.Cb(1),u.vc("Success: ",e.pingRequestState$.response,"")}}function A(t,n){if(1&t&&(u.Rb(0),u.Rb(1,2),u.sc(2,T,2,0,"span",3),u.sc(3,k,2,0,"span",3),u.sc(4,q,2,1,"span",3),u.sc(5,I,2,1,"span",3),u.Qb(),u.Qb()),2&t){var e=n.ngIf,s=u.dc();u.Cb(1),u.ic("ngSwitch",e.status),u.Cb(1),u.ic("ngSwitchCase",s.Status.UNKNOWN),u.Cb(1),u.ic("ngSwitchCase",s.Status.LOADING),u.Cb(1),u.ic("ngSwitchCase",s.Status.ERROR),u.Cb(1),u.ic("ngSwitchCase",s.Status.SUCCESS)}}var N,P=((N=function(){function n(e){t(this,n),this.hagarService=e,this.Status=b.a,this.pingState$=this.hagarService.pingState$,this.pingRequestState$=this.hagarService.pingRequestState$}return e(n,[{key:"ngOnInit",value:function(){}},{key:"doPing",value:function(){this.hagarService.doPing()}}]),n}()).\u0275fac=function(t){return new(t||N)(u.Nb($))},N.\u0275cmp=u.Hb({type:N,selectors:[["cosmos-hagar-ping"]],decls:12,vars:13,consts:[[4,"ngIf"],[3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,n){1&t&&(u.sc(0,A,6,5,"ng-container",0),u.ec(1,"async"),u.Tb(2,"div"),u.tc(3),u.ec(4,"json"),u.ec(5,"async"),u.Sb(),u.Tb(6,"div"),u.tc(7),u.ec(8,"json"),u.ec(9,"async"),u.Sb(),u.Tb(10,"button",1),u.bc("click",(function(){return n.doPing()})),u.tc(11,"Ping!"),u.Sb()),2&t&&(u.ic("ngIf",u.fc(1,3,n.pingRequestState$)),u.Cb(3),u.vc(" ",u.fc(4,5,u.fc(5,7,n.pingRequestState$)),"\n"),u.Cb(4),u.vc(" ",u.fc(8,9,u.fc(9,11,n.pingState$)),"\n"))},directives:[c.l,c.m,c.n],pipes:[c.b,c.f],styles:[""]}),N),U=i("2Jo0");function G(t,n){1&t&&(u.Tb(0,"span"),u.tc(1,"Unknown"),u.Sb())}function j(t,n){1&t&&(u.Tb(0,"span"),u.tc(1,"Pinging IGOR..."),u.Sb())}function x(t,n){if(1&t&&(u.Tb(0,"span"),u.tc(1),u.Sb()),2&t){var e=u.dc(2);u.Cb(1),u.vc("Error: ",e.pingRequestState$.error,"")}}function E(t,n){if(1&t&&(u.Tb(0,"span"),u.tc(1),u.Sb()),2&t){var e=u.dc(2);u.Cb(1),u.vc("Success: ",e.pingRequestState$.response,"")}}function L(t,n){if(1&t&&(u.Rb(0),u.Rb(1,2),u.sc(2,G,2,0,"span",3),u.sc(3,j,2,0,"span",3),u.sc(4,x,2,1,"span",3),u.sc(5,E,2,1,"span",3),u.Qb(),u.Qb()),2&t){var e=n.ngIf,s=u.dc();u.Cb(1),u.ic("ngSwitch",e.status),u.Cb(1),u.ic("ngSwitchCase",s.Status.UNKNOWN),u.Cb(1),u.ic("ngSwitchCase",s.Status.LOADING),u.Cb(1),u.ic("ngSwitchCase",s.Status.ERROR),u.Cb(1),u.ic("ngSwitchCase",s.Status.SUCCESS)}}var H,Q,z,K,J=((H=function(){function n(e){t(this,n),this.igorService=e,this.Status=b.a,this.pingState$=this.igorService.pingState$,this.pingRequestState$=this.igorService.pingRequestState$}return e(n,[{key:"ngOnInit",value:function(){}},{key:"doPing",value:function(){this.igorService.doPing()}}]),n}()).\u0275fac=function(t){return new(t||H)(u.Nb(U.a))},H.\u0275cmp=u.Hb({type:H,selectors:[["cosmos-igor-ping"]],decls:12,vars:13,consts:[[4,"ngIf"],[3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,n){1&t&&(u.sc(0,L,6,5,"ng-container",0),u.ec(1,"async"),u.Tb(2,"div"),u.tc(3),u.ec(4,"json"),u.ec(5,"async"),u.Sb(),u.Tb(6,"div"),u.tc(7),u.ec(8,"json"),u.ec(9,"async"),u.Sb(),u.Tb(10,"button",1),u.bc("click",(function(){return n.doPing()})),u.tc(11,"Ping!"),u.Sb()),2&t&&(u.ic("ngIf",u.fc(1,3,n.pingRequestState$)),u.Cb(3),u.vc(" ",u.fc(4,5,u.fc(5,7,n.pingRequestState$)),"\n"),u.Cb(4),u.vc(" ",u.fc(8,9,u.fc(9,11,n.pingState$)),"\n"))},directives:[c.l,c.m,c.n],pipes:[c.b,c.f],styles:[""]}),H),D=[{path:"codex",component:C,data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[o.d,r.a]},{path:"hagar",component:P,data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[o.d,r.a]},{path:"igor",component:J,data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[o.d,r.a]},{path:"",component:(Q=function(){function n(){t(this,n)}return e(n,[{key:"ngOnInit",value:function(){}}]),n}(),Q.\u0275fac=function(t){return new(t||Q)},Q.\u0275cmp=u.Hb({type:Q,selectors:[["cosmos-all-pings"]],decls:11,vars:0,template:function(t,n){1&t&&(u.Tb(0,"div"),u.tc(1,"Codex: "),u.Ob(2,"cosmos-codex-ping"),u.Sb(),u.Ob(3,"hr"),u.Tb(4,"div"),u.tc(5,"HAGAR: "),u.Ob(6,"cosmos-hagar-ping"),u.Sb(),u.Ob(7,"hr"),u.Tb(8,"div"),u.tc(9,"IGOR: "),u.Ob(10,"cosmos-igor-ping"),u.Sb())},directives:[C,P,J],styles:[""]}),Q),data:{roles:["cosmos-superuser","cosmos-user-its"]},canActivate:[o.d,r.a]}],W=((K=function n(){t(this,n)}).\u0275mod=u.Lb({type:K}),K.\u0275inj=u.Kb({factory:function(t){return new(t||K)},imports:[[a.e.forChild(D)],a.e]}),K),Y=((z=function n(){t(this,n)}).\u0275mod=u.Lb({type:z}),z.\u0275inj=u.Kb({factory:function(t){return new(t||z)},imports:[[c.c,W]]}),z)}}])}();