(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"2Jo0":function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var r=s("vobO"),o=s("C05f"),n=s("8j5Y"),i=s("bl/x"),a=s("4e/d"),c=s("8bJt"),p=s("EM62");let u=(()=>{class e{constructor(e){this.http=e,this.pingURL="https://wrdsb-igor3.azurewebsites.net/api/ping",this.googleGroupsCommandURL="https://wrdsb-igor3.azurewebsites.net/api/google-group-command",this.googleGroupsQueryURL="https://wrdsb-igor3.azurewebsites.net/api/group-query",this.googleGroupsSearchURL="",this.usersURL="",this.pingState=new o.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new o.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.listGroupsResponse=new o.a({payload:[{name:"Loading...",email:"Loading..."}]}),this.listGroupsRequestState=new o.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.listGroupsResponse$=this.listGroupsResponse.asObservable(),this.listGroupsRequestState$=this.listGroupsRequestState.asObservable(),this.httpOptions={headers:new r.e({"Content-Type":"application/json"})}}doPing(){console.log("Pinging IGOR..."),this.pingRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(n.a)(e=>console.log("tap")),Object(i.a)(2),Object(a.a)(e=>{throw console.log("catch error"),this.pingRequestState.next({status:c.a.ERROR,response:"",error:e}),this.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging IGOR"}),Object(n.a)(e=>{this.pingRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success pinging IGOR")})).subscribe(e=>this.pingState.next(e))}listGroups(e){console.log("IGOR: list groups"),this.listGroupsRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"});let t={headers:new r.e({"Content-Type":"application/json"}),params:(new r.f).set("operation","list").set("payload",e)};this.http.get(this.googleGroupsQueryURL,t).pipe(Object(n.a)(e=>console.log("tap")),Object(i.a)(2),Object(a.a)(e=>{throw console.log("catch error"),this.listGroupsRequestState.next({status:c.a.ERROR,response:"",error:e}),this.listGroupsResponse.next({payload:[]}),"error listing groups"}),Object(n.a)(e=>{this.listGroupsRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success listing groups")})).subscribe(e=>this.listGroupsResponse.next(e))}}return e.\u0275fac=function(t){return new(t||e)(p.Xb(r.b))},e.\u0275prov=p.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"8bJt":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var r=function(e){return e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({})},L6rV:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var r=s("vobO"),o=s("C05f"),n=s("8j5Y"),i=s("bl/x"),a=s("4e/d"),c=s("8bJt"),p=s("EM62");let u=(()=>{class e{constructor(e){this.http=e,this.pingURL="https://wrdsb-viewfinder.azurewebsites.net/api/ping",this.googleGroupsFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-group-find",this.googleGroupsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-groups-search",this.googleCalendarsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-calendars-search",this.pingState=new o.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new o.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.searchRequestState=new o.a({status:c.a.UNKNOWN,response:"response",error:"error"}),this.searchRequestState$=this.searchRequestState.asObservable(),this.httpOptions={headers:new r.e({"Content-Type":"application/json"})}}doPing(){console.log("Viewfinder Service: doPing()"),console.log("Pinging Viewfinder..."),this.pingRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(n.a)(e=>console.log("ping request")),Object(i.a)(2),Object(a.a)(e=>{throw console.log("catch ping request error"),this.pingRequestState.next({status:c.a.ERROR,response:"",error:e}),this.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging Viewfinder"}),Object(n.a)(e=>{this.pingRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success pinging Viewfinder")})).subscribe(e=>this.pingState.next(e))}findGoogleGroup(e){return console.log("Viewfinder Service: findGoogleGroup()"),this.http.post(this.googleGroupsFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(n.a)(e=>console.log("Viewfinder Service: Google Group find request")),Object(i.a)(2),Object(a.a)(e=>{throw console.log("Viewfinder Service: catch find request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"}),Object(n.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success searching via Viewfinder")}))}searchGoogleGroups(e){console.log("Viewfinder Service: searchGoogleGroups()"),console.log("Searching Viewfinder...");let t={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.googleGroupsSearchURL,t,this.httpOptions).pipe(Object(n.a)(e=>console.log("searh request")),Object(i.a)(2),Object(a.a)(e=>{throw console.log("catch search request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(n.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}searchGoogleCalendars(e){console.log("Viewfinder Service: searchGoogleCalendars()"),console.log("Searching Viewfinder...");let t={payload:Object.assign({includeTotalCount:!0,orderBy:["summary asc"],skip:0,top:20},e)};return this.searchRequestState.next({status:c.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.googleCalendarsSearchURL,t,this.httpOptions).pipe(Object(n.a)(e=>console.log("searh request")),Object(i.a)(2),Object(a.a)(e=>{throw console.log("catch search request error"),this.searchRequestState.next({status:c.a.ERROR,response:"",error:e}),"error searching Viewfinder"}),Object(n.a)(e=>{this.searchRequestState.next({status:c.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")}))}}return e.\u0275fac=function(t){return new(t||e)(p.Xb(r.b))},e.\u0275prov=p.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"bl/x":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var r=s("5uGe");function o(e=-1){return t=>t.lift(new n(e,t))}class n{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new i(e,this.count,this.source))}}class i extends r.a{constructor(e,t,s){super(e),this.count=t,this.source=s}error(e){if(!this.isStopped){const{source:t,count:s}=this;if(0===s)return super.error(e);s>-1&&(this.count=s-1),t.subscribe(this._unsubscribeAndRecycle())}}}}}]);