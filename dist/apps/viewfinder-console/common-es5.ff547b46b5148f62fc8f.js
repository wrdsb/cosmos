!function(){function e(t,r,n){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(t,r,n||t)}function t(e,r){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,r)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return n(this,r)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"2Jo0":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n,s=r("vobO"),i=r("C05f"),u=r("8j5Y"),c=r("bl/x"),p=r("4e/d"),l=r("8bJt"),h=r("EM62"),f=((n=function(){function e(t){o(this,e),this.http=t,this.pingURL="https://wrdsb-igor3.azurewebsites.net/api/ping",this.googleGroupsCommandURL="https://wrdsb-igor3.azurewebsites.net/api/google-group-command",this.googleGroupsQueryURL="https://wrdsb-igor3.azurewebsites.net/api/group-query",this.googleGroupsSearchURL="",this.usersURL="",this.pingState=new i.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new i.a({status:l.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.listGroupsResponse=new i.a({payload:[{name:"Loading...",email:"Loading..."}]}),this.listGroupsRequestState=new i.a({status:l.a.UNKNOWN,response:"response",error:"error"}),this.listGroupsResponse$=this.listGroupsResponse.asObservable(),this.listGroupsRequestState$=this.listGroupsRequestState.asObservable(),this.httpOptions={headers:new s.e({"Content-Type":"application/json"})}}return a(e,[{key:"doPing",value:function(){var e=this;console.log("Pinging IGOR..."),this.pingRequestState.next({status:l.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(u.a)((function(e){return console.log("tap")})),Object(c.a)(2),Object(p.a)((function(t){throw console.log("catch error"),e.pingRequestState.next({status:l.a.ERROR,response:"",error:t}),e.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging IGOR"})),Object(u.a)((function(t){e.pingRequestState.next({status:l.a.SUCCESS,response:"success",error:""}),console.log("success pinging IGOR")}))).subscribe((function(t){return e.pingState.next(t)}))}},{key:"listGroups",value:function(e){var t=this;console.log("IGOR: list groups"),this.listGroupsRequestState.next({status:l.a.LOADING,response:"unknown",error:"unknown"});var r={headers:new s.e({"Content-Type":"application/json"}),params:(new s.f).set("operation","list").set("payload",e)};this.http.get(this.googleGroupsQueryURL,r).pipe(Object(u.a)((function(e){return console.log("tap")})),Object(c.a)(2),Object(p.a)((function(e){throw console.log("catch error"),t.listGroupsRequestState.next({status:l.a.ERROR,response:"",error:e}),t.listGroupsResponse.next({payload:[]}),"error listing groups"})),Object(u.a)((function(e){t.listGroupsRequestState.next({status:l.a.SUCCESS,response:"success",error:""}),console.log("success listing groups")}))).subscribe((function(e){return t.listGroupsResponse.next(e)}))}}]),e}()).\u0275fac=function(e){return new(e||n)(h.Xb(s.b))},n.\u0275prov=h.Jb({token:n,factory:n.\u0275fac,providedIn:"root"}),n)},"8bJt":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({})},L6rV:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n,s=r("vobO"),i=r("C05f"),u=r("8j5Y"),c=r("bl/x"),p=r("4e/d"),l=r("8bJt"),h=r("EM62"),f=((n=function(){function e(t){o(this,e),this.http=t,this.pingURL="https://wrdsb-viewfinder.azurewebsites.net/api/ping",this.googleGroupsFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-group-find",this.googleGroupsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-groups-search",this.googleCalendarFindURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-calendar-find",this.googleCalendarsSearchURL="https://wrdsb-viewfinder.azurewebsites.net/api/google-calendars-search",this.pingState=new i.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new i.a({status:l.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.searchRequestState=new i.a({status:l.a.UNKNOWN,response:"response",error:"error"}),this.searchRequestState$=this.searchRequestState.asObservable(),this.httpOptions={headers:new s.e({"Content-Type":"application/json"})}}return a(e,[{key:"doPing",value:function(){var e=this;console.log("Viewfinder Service: doPing()"),console.log("Pinging Viewfinder..."),this.pingRequestState.next({status:l.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(u.a)((function(e){return console.log("ping request")})),Object(c.a)(2),Object(p.a)((function(t){throw console.log("catch ping request error"),e.pingRequestState.next({status:l.a.ERROR,response:"",error:t}),e.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging Viewfinder"})),Object(u.a)((function(t){e.pingRequestState.next({status:l.a.SUCCESS,response:"success",error:""}),console.log("success pinging Viewfinder")}))).subscribe((function(t){return e.pingState.next(t)}))}},{key:"findGoogleGroup",value:function(e){var t=this;return console.log("Viewfinder Service: findGoogleGroup()"),this.http.post(this.googleGroupsFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(u.a)((function(e){return console.log("Viewfinder Service: Google Group find request")})),Object(c.a)(2),Object(p.a)((function(e){throw console.log("Viewfinder Service: catch find request error"),t.searchRequestState.next({status:l.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"})),Object(u.a)((function(e){t.searchRequestState.next({status:l.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success searching via Viewfinder")})))}},{key:"searchGoogleGroups",value:function(e){var t=this;console.log("Viewfinder Service: searchGoogleGroups()"),console.log("Searching Viewfinder...");var r={payload:Object.assign({includeTotalCount:!0,skip:0,top:20},e)};return this.searchRequestState.next({status:l.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.googleGroupsSearchURL,r,this.httpOptions).pipe(Object(u.a)((function(e){return console.log("searh request")})),Object(c.a)(2),Object(p.a)((function(e){throw console.log("catch search request error"),t.searchRequestState.next({status:l.a.ERROR,response:"",error:e}),"error searching Viewfinder"})),Object(u.a)((function(e){t.searchRequestState.next({status:l.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")})))}},{key:"findGoogleCalendar",value:function(e){var t=this;return console.log("Viewfinder Service: findGoogleCalendar()"),this.http.post(this.googleCalendarFindURL,{payload:{id:e}},this.httpOptions).pipe(Object(u.a)((function(e){return console.log("Viewfinder Service: Google Calendar find request")})),Object(c.a)(2),Object(p.a)((function(e){throw console.log("Viewfinder Service: catch find request error"),t.searchRequestState.next({status:l.a.ERROR,response:"",error:e}),"Viewfinder Service: error finding via Viewfinder"})),Object(u.a)((function(e){t.searchRequestState.next({status:l.a.SUCCESS,response:"success",error:""}),console.log("Viewfinder Service: success searching via Viewfinder")})))}},{key:"searchGoogleCalendars",value:function(e){var t=this;console.log("Viewfinder Service: searchGoogleCalendars()"),console.log("Searching Viewfinder...");var r={payload:Object.assign({includeTotalCount:!0,orderBy:["summary asc"],skip:0,top:20},e)};return this.searchRequestState.next({status:l.a.LOADING,response:"unknown",error:"unknown"}),this.http.post(this.googleCalendarsSearchURL,r,this.httpOptions).pipe(Object(u.a)((function(e){return console.log("searh request")})),Object(c.a)(2),Object(p.a)((function(e){throw console.log("catch search request error"),t.searchRequestState.next({status:l.a.ERROR,response:"",error:e}),"error searching Viewfinder"})),Object(u.a)((function(e){t.searchRequestState.next({status:l.a.SUCCESS,response:"success",error:""}),console.log("success searching Viewfinder")})))}}]),e}()).\u0275fac=function(e){return new(e||n)(h.Xb(s.b))},n.\u0275prov=h.Jb({token:n,factory:n.\u0275fac,providedIn:"root"}),n)},"bl/x":function(n,i,u){"use strict";u.d(i,"a",(function(){return p}));var c=u("5uGe");function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return t.lift(new l(e,t))}}var l=function(){function e(t,r){o(this,e),this.count=t,this.source=r}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.count,this.source))}}]),e}(),h=function(n){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&t(e,r)}(u,n);var i=r(u);function u(e,t,r){var n;return o(this,u),(n=i.call(this,e)).count=t,n.source=r,n}return a(u,[{key:"error",value:function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e(s(u.prototype),"error",this).call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}}}]),u}(c.a)}}])}();