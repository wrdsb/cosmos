(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{y0KH:function(e,t,s){"use strict";s.d(t,"a",function(){return g});var o=s("tk/3"),r=s("2Vo4"),i=s("vkgz"),a=s("un/a"),n=s("JIr8"),p=s("t5bl"),u=s("fXoL");let g=(()=>{class e{constructor(e){this.http=e,this.apiTargetAppName="IGOR",this.serviceName=`${this.apiTargetAppName} Service`,this.pingURL="https://wrdsb-igor3.azurewebsites.net/api/ping",this.googleGroupsCommandURL="https://wrdsb-igor3.azurewebsites.net/api/google-group-command",this.googleGroupsQueryURL="https://wrdsb-igor3.azurewebsites.net/api/group-query",this.googleGroupsSearchURL="",this.usersURL="",this.pingState=new r.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new r.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.listGroupsResponse=new r.a({payload:[{name:"Loading...",email:"Loading..."}]}),this.listGroupsRequestState=new r.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.listGroupsResponse$=this.listGroupsResponse.asObservable(),this.listGroupsRequestState$=this.listGroupsRequestState.asObservable(),this.httpOptions={headers:new o.e({"Content-Type":"application/json"})}}doPing(){console.log(`${this.serviceName}: doPing()`),console.log(`Pinging ${this.apiTargetAppName}...`),this.pingRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(i.a)(e=>console.log("ping request")),Object(a.a)(2),Object(n.a)(e=>{throw console.log("catch ping request error"),this.pingRequestState.next({status:p.a.ERROR,response:"",error:e}),this.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),`error pinging ${this.apiTargetAppName}`}),Object(i.a)(e=>{this.pingRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log(`success pinging ${this.apiTargetAppName}`)})).subscribe(e=>this.pingState.next(e))}listGroups(e){console.log("IGOR: list groups"),this.listGroupsRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"});let t={headers:new o.e({"Content-Type":"application/json"}),params:(new o.f).set("operation","list").set("payload",e)};this.http.get(this.googleGroupsQueryURL,t).pipe(Object(i.a)(e=>console.log("tap")),Object(a.a)(2),Object(n.a)(e=>{throw console.log("catch error"),this.listGroupsRequestState.next({status:p.a.ERROR,response:"",error:e}),this.listGroupsResponse.next({payload:[]}),"error listing groups"}),Object(i.a)(e=>{this.listGroupsRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success listing groups")})).subscribe(e=>this.listGroupsResponse.next(e))}}return e.\u0275fac=function(t){return new(t||e)(u.Xb(o.b))},e.\u0275prov=u.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);