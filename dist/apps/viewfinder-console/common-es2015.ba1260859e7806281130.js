(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2Jo0":function(s,t,e){"use strict";e.d(t,"a",(function(){return g}));var o=e("vobO"),r=e("C05f"),n=e("8j5Y"),a=e("bl/x"),i=e("4e/d"),p=e("8bJt"),u=e("EM62");let g=(()=>{class s{constructor(s){this.http=s,this.pingURL="https://wrdsb-igor3.azurewebsites.net/api/ping",this.googleGroupsCommandURL="https://wrdsb-igor3.azurewebsites.net/api/google-group-command",this.googleGroupsQueryURL="https://wrdsb-igor3.azurewebsites.net/api/group-query",this.googleGroupsSearchURL="",this.usersURL="",this.pingState=new r.a({payload:{message:"",chatter:"",status:0,timestamp:""}}),this.pingRequestState=new r.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.pingState$=this.pingState.asObservable(),this.pingRequestState$=this.pingRequestState.asObservable(),this.listGroupsResponse=new r.a({payload:[{name:"Loading...",email:"Loading..."}]}),this.listGroupsRequestState=new r.a({status:p.a.UNKNOWN,response:"response",error:"error"}),this.listGroupsResponse$=this.listGroupsResponse.asObservable(),this.listGroupsRequestState$=this.listGroupsRequestState.asObservable(),this.httpOptions={headers:new o.e({"Content-Type":"application/json"})}}doPing(){console.log("Pinging IGOR..."),this.pingRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"}),this.http.get(this.pingURL,this.httpOptions).pipe(Object(n.a)(s=>console.log("tap")),Object(a.a)(2),Object(i.a)(s=>{throw console.log("catch error"),this.pingRequestState.next({status:p.a.ERROR,response:"",error:s}),this.pingState.next({payload:{message:"error",chatter:"error",status:200,timestamp:"timestamp"}}),"error pinging IGOR"}),Object(n.a)(s=>{this.pingRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success pinging IGOR")})).subscribe(s=>this.pingState.next(s))}listGroups(s){console.log("IGOR: list groups"),this.listGroupsRequestState.next({status:p.a.LOADING,response:"unknown",error:"unknown"});let t={headers:new o.e({"Content-Type":"application/json"}),params:(new o.f).set("operation","list").set("payload",s)};this.http.get(this.googleGroupsQueryURL,t).pipe(Object(n.a)(s=>console.log("tap")),Object(a.a)(2),Object(i.a)(s=>{throw console.log("catch error"),this.listGroupsRequestState.next({status:p.a.ERROR,response:"",error:s}),this.listGroupsResponse.next({payload:[]}),"error listing groups"}),Object(n.a)(s=>{this.listGroupsRequestState.next({status:p.a.SUCCESS,response:"success",error:""}),console.log("success listing groups")})).subscribe(s=>this.listGroupsResponse.next(s))}}return s.\u0275fac=function(t){return new(t||s)(u.Yb(o.b))},s.\u0275prov=u.Kb({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);